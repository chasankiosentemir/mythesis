{"ast":null,"code":"var _jsxFileName = \"/home/chasan/Desktop/mythesis/frontend/src/screens/CartScreen.js\";\nimport React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { addToCart } from '../actions/cartActions';\nimport MessageBox from '../components/MessageBox';\nimport { Link } from 'react-router-dom';\nexport default function CartScreen(props) {\n  const productId = props.match.params.id;\n  const qty = props.location.search ? Number(props.location.search.split('=')[1]) : 1;\n  const cart = useSelector(state => state.cart);\n  const {\n    cartItems\n  } = cart;\n  const dispatch = useDispatch();\n  useEffect(() => {\n    if (productId) {\n      dispatch(addToCart(productId, qty));\n    }\n  }, [dispatch, productId, qty]);\n\n  const removeFromCartHandler = id => {//delete action\n  };\n\n  const checkoutHandler = () => {\n    props.history.push('/signin?redirect=shipping');\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row top\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 17\n    }\n  }, \"Shopping Cart\"), cartItems.length === 0 ? /*#__PURE__*/React.createElement(MessageBox, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 17\n    }\n  }, \"Cart is empty. \", /*#__PURE__*/React.createElement(Link, {\n    to: \"/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 36\n    }\n  }, \"Go Shopping\")) : /*#__PURE__*/React.createElement(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 17\n    }\n  }, cartItems.map(item => /*#__PURE__*/React.createElement(\"li\", {\n    key: item.product,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: item.image,\n    alt: item.name,\n    className: \"small\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 41\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"min-30\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: `/product/${item.product}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 41\n    }\n  }, item.name)), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"select\", {\n    value: item.qty,\n    onChange: e => dispatch(addToCart(item.product, Number(e.target.value))),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 41\n    }\n  }, [...Array(item.countInStock).keys()].map(x => /*#__PURE__*/React.createElement(\"option\", {\n    key: x + 1,\n    value: x + 1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 49\n    }\n  }, x + 1)))), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 37\n    }\n  }, item.price === 0 ? /*#__PURE__*/React.createElement(\"span\", {\n    className: \"success\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 61\n    }\n  }, \"Free\") : /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 103\n    }\n  }, item.price, \"$\"), \" \")), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    onClick: () => removeFromCartHandler(item.product),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 41\n    }\n  }, \"Delete\"))))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"checkout-body card-body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 25\n    }\n  }, \"Subtotal: (\", cartItems.reduce((a, c) => a + c.qty, 0), \" Items) : $\", cartItems.reduce((a, c) => a + c.price * c.qty, 0))), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    onClick: checkoutHandler,\n    className: \"primary block\",\n    disabled: cartItems.length === 0,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 25\n    }\n  }, \"Proceed To Checkout\"))))));\n}","map":{"version":3,"sources":["/home/chasan/Desktop/mythesis/frontend/src/screens/CartScreen.js"],"names":["React","useEffect","useDispatch","useSelector","addToCart","MessageBox","Link","CartScreen","props","productId","match","params","id","qty","location","search","Number","split","cart","state","cartItems","dispatch","removeFromCartHandler","checkoutHandler","history","push","length","map","item","product","image","name","e","target","value","Array","countInStock","keys","x","price","reduce","a","c"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react'\nimport { useDispatch, useSelector } from 'react-redux';\nimport {addToCart} from '../actions/cartActions'\nimport MessageBox from '../components/MessageBox';\nimport {Link} from 'react-router-dom';\n\n\nexport default function CartScreen(props) {\n    const productId = props.match.params.id;\n    const qty = props.location.search? Number(props.location.search.split('=')[1]): 1;\n    const cart = useSelector((state) => state.cart);\n    const {cartItems} = cart;\n    const dispatch = useDispatch();\n    useEffect(() =>{\n        if(productId){\n            dispatch(addToCart(productId,qty))\n        }\n    }, [dispatch,productId,qty]);\n    const removeFromCartHandler = (id) =>{\n        //delete action\n    };\n\n    const checkoutHandler = () => {\n        props.history.push('/signin?redirect=shipping'); \n    }\n    return (\n        <div className=\"row top\">\n            <div className=\"col-2\">\n                <h1>Shopping Cart</h1>\n                {cartItems.length ===0?( \n                <MessageBox>\n                    Cart is empty. <Link to=\"/\">Go Shopping</Link>\n                </MessageBox>\n                ):\n            (\n                <ul>\n                    \n                        {cartItems.map((item) => (\n                            <li key={item.product}>\n                                <div className=\"row\">\n                                    <div>\n                                        <img src={item.image} alt={item.name} className=\"small\"></img>\n                                    </div>\n                                    <div className=\"min-30\">\n                                        <Link to={`/product/${item.product}`}>{item.name}</Link>\n                                    </div>\n                                    <div>\n                                        <select value={item.qty} onChange={(e) =>dispatch(addToCart(item.product,Number(e.target.value)))}>\n                                        {[...Array(item.countInStock).keys()].map( (x)=>(\n                                                <option key={x+1} value={x+1}>{x+1}</option>\n                                            )\n                                            )}\n                                        </select>\n                                    </div>\n                                    <div>\n                                    <p>{item.price === 0 ? (<span className=\"success\">Free</span>) : (<span>{item.price}$</span>)} </p>\n                                    </div>\n                                    <div>\n                                        <button type=\"button\" onClick={() => removeFromCartHandler(item.product)}>Delete</button>\n                                    </div>\n                                    </div> \n                            </li>\n                        ))\n                        \n                    }\n                </ul>\n            )    \n            }\n            </div>\n            <div className=\"col-1\"> \n            <div className=\"checkout-body card-body\">\n                <ul>\n                    <li>\n                        <h2>Subtotal: ({cartItems.reduce((a,c)=> a + c.qty, 0)} Items) : ${cartItems.reduce((a,c)=> a + c.price * c.qty, 0)}</h2>\n                    </li>\n                    <li>\n                        <button type=\"button\" onClick={checkoutHandler} className=\"primary block\" disabled={cartItems.length === 0}>Proceed To Checkout</button>\n                    </li>\n                </ul>\n            </div>\n            </div>\n    \n        </div>\n    )\n}\n"]},"metadata":{},"sourceType":"module"}